{
    "version": "2.0.0",
    "tasks": [
        {
            // æ–°å¢ä»»åŠ¡ä¸€ï¼šæ£€æŸ¥å¹¶åˆ›å»º output ç›®å½•
            // ä½¿ç”¨ PowerShell å‘½ä»¤ï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºå®ƒ
            "label": "Create Output Directory",
            "type": "shell",
            "command": "if (!(Test-Path -Path 'output')) { New-Item -ItemType Directory -Path 'output' }"
        },
        {
            // ä»»åŠ¡äºŒï¼šç”Ÿæˆèµ„æºæ–‡ä»¶ (ä¸ä¹‹å‰ç›¸åŒ)
            "label": "Generate Resources",
            "type": "process",
            "command": "rsrc",
            "args": [
                "-manifest",
                "clipboard-online.manifest",
                "-ico",
                "app.ico",
                "-o",
                "rsrc.syso"
            ]
        },
        {
            // ä»»åŠ¡ä¸‰ï¼šç¼–è¯‘ Go ç¨‹åº (ä¿®æ”¹äº† dependsOn)
            "label": "Build for VSCode Debugging",
            "type": "process",
            "command": "go",
            "args": [
                "build",
                "-o",
                "${workspaceFolder}/output/clipboard-online.exe",
                "-ldflags",
                "-H windowsgui -X 'main.mode=debug' -X 'main.version=vscode-debug'"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "reveal": "silent",
                "clear": true
            },
            // ğŸ‘‡ å…³é”®æ”¹åŠ¨ï¼šç°åœ¨ä¾èµ–äºä¸Šé¢ä¸¤ä¸ªä»»åŠ¡
            "dependsOn": [
                "Create Output Directory",
                "Generate Resources"
            ]
        }
    ]
}